<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Stardog: Documentation: Groovy</title>
    <script type="text/javascript" src="http://use.typekit.com/muj3mlu.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link rel="shortcut icon" href="/favicon.ico" />
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <link media="screen" rel="stylesheet" href="/_/css/ps.css"/>
    <link media="print" rel="stylesheet" href="/_/css/print.css"/>
    <link media="screen" rel="stylesheet" href="/_/css/simplegrid.css"/>
    
  </head>


  <body>

    <body>

<div class="grid grid-pad">

<div id="masthead">

  <div class="col-3-12" id="logoquote"><a href="/"><img border=0 src="/_/img/sdog-bare.png"></a></div>  

  <div id="chaptertitle" class="col-9-12">
      <blockquote>
        <b>Making something variable is easy. Controlling duration of constancy is the trick.</b>&mdash;<cite>Alan Perlis, Epigrams in Programming</cite>
      </blockquote>
      <h1 id="title">Stardog <span id="subtitle">Groovy</span></h1>
  </div>

</div>

</div>

<div class="grid grid-pad">

<div id="contentbody">

  <div class="col-3-12" id="left-gutter">
    <div id="tocblock"></div>
  </div>

  <div class="col-9-12" id="main-channel">
  <section id="intro"><header><h1 id='chapter'>Introduction</h1></header>

  <p><a href="http://http://groovy.codehaus.org//">Groovy</a> is an agile and 
  dynamic programming language for the JVM, making popular programming features such 
  as closures available to Java developers. Stardog's Groovy support
makes life easier for developers who need to work with RDF, SPARQL, and OWL by way of
Stardog.</p>

  <p>The Groovy for Stardog <a
  href="http://github.com/clarkparsia/stardog-groovy">source code</a> is
  available on Github.</p>

</section>


  <section id="building"><header><h1 id='chapter'>Building Groovy for Stardog</h1></header>

  <p>To build Groovy for Stardog, you need a release of Stardog; we use 
<a href="http://www.gradle.org/">Gradle</a> to build Stardog for Groovy. Then,</p>

    <ul>
      <li>edit <tt>build.gradle</tt> to point <tt>stardogLocation</tt> at a Stardog release directory;</li>
      <li>run <tt>gradlew build</tt>, which eventually results in a <tt>stardog-groovy.jar</tt> in <tt>build/libs</tt>; finally,</li>
      <li><tt>gradlew install</tt> does a build, generates a POM, and installs the POM in local Maven repo; alternately,</li>
      <li><tt>mvn install</tt> will work, too:
      <pre><code>mvn install:install-file
      -DgroupId=com.clarkparsia.stardog
      -DartifactId=stardog-groovy
      -Dversion=1.1.1
      -Dfile=stardog-groovy.jar
      -Dpackaging=jar
      -DpomFile=pom.xml</code></pre></li>
    </ul>
  </section>


  <section id="overview"><header><h1 id="chapter">Overview</h1></header>
  
  <p>Groovy for Stardog <b>@@SPRING_VERSION@@</b> provides a set of Groovy API wrappers
  for developers to build applications with Stardog and take advantage of native Groovy features.
  For example, you can create a Stardog connection pool in a single line, much 
  like Groovy SQL support.  In Groovy for Stardog, queries can be iterated over using closures
  and transaction safe closures can be executed over a connection. </p>

<p>For the first release, Groovy for Stardog includes <code>com.clarkparsia.stardog.ext.groovy.Stardog</code> 
with the following methods:</p>

  <ol>
    <li><code>Stardog(map)</code> constructor for managing Stardog connection pools</li>
    <li><code>each(String, Closure)</code> for executing a closure over a query's results, including projecting SPARQL result variables into the closure.  </li>
    <li><code>query(String, Closure)</code> for executing a closure over a query's results, passing the BindingSet to the closure</li>
    <li><code>insert(List)</code> for inserting a list of vars as a triple, or a list of list of triples for insertion</li>
    <li><code>remove(List)</code> for removing a triple from the database</li>
    <li><code>withConnection</code> for executing a closure with a transaction safe instance of <a href="http://stardog.com/docs/java/snarl/com/clarkparsia/stardog/api/Connection.html">Connection</a></li>
  </ol>
  
  <p>In addition to the core capabilities, Groovy for Stardog also integrates with the Spring
  bindings and can use a <tt>DataSource</tt> to initialize the constructor.  Combining both together creates
  an easy to use solution for other Groovy environments, such as <a href="http://www.grails.org">Grails</a>.
  </p>
  

  </section>


  <section id="examples"><header><h1 id='chapter'>Examples</h1></header>


  <h2>Create a Connection</h2>
  <div style="font-size:small"><script src="https://gist.github.com/4652565.js"></script></div>
  <h2>SPARQL Vars projected into Groovy Closures</h2>
  <div style="font-size:small"><script src="https://gist.github.com/4652590.js"></script></div>
  <h2>Add and remove triples</h2>
  <div style="font-size:small"><script src="https://gist.github.com/4652608.js"></script></div>
  <h2>withConnection closure example</h2>
  <div style="font-size:small"><script src="https://gist.github.com/4652621.js"></script></div>


  </section>

  
<section id="fn">
  <header>  <h1 class="fn">Notes</h1></header>
  <ol id="notes">
    <!-- footnotes get pub'd here -->
  </ol>

  </section>

 </div>
</div>
</div>

  <div class="grid grid-pad">
  <div class="col-12-12">
  <nav><p><a class="top" href="#" title="Back to top"><span style="font-size: 48px">&#8962;</a></a></p></nav>
  <p>For comments, questions, or to report problems with this page, please email the <a href="https://groups.google.com/a/clarkparsia.com/group/stardog/about">Stardog Support Forum</a>.</p>
  <footer>
    <p id="thefooter"></p>
  </footer>
  </div>
  </div>


  <script src="/_/js/pbk.js" type="text/javascript"></script>
    <script type="text/javascript">
      nodeName = "";
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-1719955-3']);
      _gaq.push(['_setDomainName', 'stardog.com']);
      _gaq.push(['_trackPageview']);
      (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>

<script src="/_/js/sticky.js" type="text/javascript"></script>

<script>
  $(document).ready(function(){
    $("#tocblock").sticky({topSpacing:4});
  });
</script>

  </body>
</html>

